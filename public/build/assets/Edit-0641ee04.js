import{u as j,r as t,R as e,H as B,d as M}from"./app-2f88eaee.js";import{L as q}from"./Account-8ba589b9.js";import{S as z}from"./sweetalert2.all-92a6b231.js";import{S as r}from"./react-select.esm-64768b31.js";import"./index-d9835c12.js";function X(){const{errors:s,saksi:l,kabupatens:o,desas:c,kecamatans:d,tpses:K,user:P}=j().props,[u,A]=t.useState(l.name),[E,I]=t.useState(l.address),[p,T]=t.useState(l.phone),[x,D]=t.useState(null),[f,b]=t.useState(l.tps_id),[v,N]=t.useState(l.kabupaten_id),[w,h]=t.useState(l.kecamatan_id),[m,S]=t.useState(l.desa_id),[H,g]=t.useState([]),[k,O]=t.useState(P.email),[_,$]=t.useState(""),[C,F]=t.useState(""),L=async a=>{const i=await(await fetch(`/account/gettps?desa_id=${a}`)).json();g(i)};t.useEffect(()=>{m?L(m.value):g([])},[m]),t.useEffect(()=>{const a=o.find(n=>n.value===l.kabupaten_id),y=d.find(n=>n.value===l.kecamatan_id),i=c.find(n=>n.value===l.desa_id),U=c.find(n=>n.value===l.tps_id);N(a),h(y),S(i),b(U)},[l.kabupaten_id,o,d,c,K]);const R=async a=>{a.preventDefault(),M.Inertia.post(`/account/saksis/${l.id}`,{name:u,phone:p,address:E,ktp:x,kabupaten_id:v.value,kecamatan_id:w.value,desa_id:m.value,tps_id:f.value,email:k,password:_,password_confirmation:C,_method:"PUT"},{onSuccess:()=>{z.fire({title:"Success!",text:"Data updated successfully!",icon:"success",showConfirmButton:!1,timer:1500})}})};return e.createElement(e.Fragment,null,e.createElement(B,null,e.createElement("title",null,"EDIT SAKSI - SIPKADA")),e.createElement(q,null,e.createElement("div",{className:"row mt-4"},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"card border-0 rounded shadow-sm border-top-success"},e.createElement("div",{className:"card-header"},e.createElement("span",{className:"font-weight-bold"},e.createElement("i",{className:"fa fa-folder"})," Edit Saksi")),e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:R},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-4"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Edit Nama Saksi"),e.createElement("input",{type:"text",className:"form-control",value:u,onChange:a=>A(a.target.value),placeholder:"Edit Nama Saksi"})),s.name&&e.createElement("div",{className:"alert alert-danger"},s.name)),e.createElement("div",{className:"col-md-4"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"No. Hp"),e.createElement("input",{type:"text",className:"form-control",value:p,onChange:a=>T(a.target.value),placeholder:"Edit No. Hp"})),s.phone&&e.createElement("div",{className:"alert alert-danger"},s.phone)),e.createElement("div",{className:"col-md-4"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Edit Alamat"),e.createElement("input",{type:"text",className:"form-control",value:E,onChange:a=>I(a.target.value),placeholder:"Edit Alamat"})),s.address&&e.createElement("div",{className:"alert alert-danger"},s.address))),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Upload Foto KTP"),e.createElement("input",{type:"file",className:"form-control",onChange:a=>D(a.target.files[0])})),s.ktp&&e.createElement("div",{className:"alert alert-danger"},s.ktp),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Kabupaten"),e.createElement(r,{options:o,value:v,onChange:a=>N(a)})),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-4"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Kecamatan"),e.createElement(r,{options:d,value:w,onChange:a=>h(a)}))),e.createElement("div",{className:"col-md-4"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Desa /Kelurahan"),e.createElement(r,{options:c,value:m,onChange:a=>S(a)}))),e.createElement("div",{className:"col-md-4"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Pilih TPS"),e.createElement(r,{options:H,value:f,onChange:a=>b(a)})))),e.createElement("hr",null),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Edit Email"),e.createElement("input",{type:"text",className:"form-control",value:k,onChange:a=>O(a.target.value),placeholder:"Edit Alamat Email"})),s.email&&e.createElement("div",{className:"alert alert-danger"},s.email)),e.createElement("div",{className:"col-md-"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Password"),e.createElement("input",{type:"password",className:"form-control",value:_,onChange:a=>$(a.target.value),placeholder:"Edit Password"})),s.password&&e.createElement("div",{className:"alert alert-danger"},s.password)),e.createElement("div",{className:"col-md-"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Konfirmasi Password"),e.createElement("input",{type:"password",className:"form-control",value:C,onChange:a=>F(a.target.value),placeholder:"Konfirmasi Password"})))),e.createElement("div",null,e.createElement("button",{type:"submit",className:"btn btn-md btn-success me-2"},e.createElement("i",{className:"fa fa-save"})," Save")))))))))}export{X as default};
