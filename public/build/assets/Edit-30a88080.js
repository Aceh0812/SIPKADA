import{u as v,r as s,R as e,H as N,d as S}from"./app-2f88eaee.js";import{L as k}from"./Account-8ba589b9.js";import{S as _}from"./sweetalert2.all-92a6b231.js";import{S as E}from"./react-select.esm-64768b31.js";import"./index-d9835c12.js";function y(){const{errors:m,desa:t,kabupatens:n,kecamatans:l}=v().props,[r,b]=s.useState(t.name),[o,d]=s.useState(t.kabupaten_id),[i,u]=s.useState(t.kecamatan_id);s.useEffect(()=>{const a=n.find(c=>c.value===t.kabupaten_id),f=l.find(c=>c.value===t.kecamatan_id);d(a),u(f)},[t.kabupaten_id,n,l]);const p=async a=>{a.preventDefault(),S.Inertia.post(`/account/desas/${t.id}`,{name:r,kabupaten_id:o.value,kecamatan_id:i.value,_method:"PUT"},{onSuccess:()=>{_.fire({title:"Success!",text:"Data updated successfully!",icon:"success",showConfirmButton:!1,timer:1500})}})};return e.createElement(e.Fragment,null,e.createElement(N,null,e.createElement("title",null,"EDIT DESA - SIPKAD")),e.createElement(k,null,e.createElement("div",{className:"row mt-4"},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"card border-0 rounded shadow-sm border-top-success"},e.createElement("div",{className:"card-header"},e.createElement("span",{className:"font-weight-bold"},e.createElement("i",{className:"fa fa-folder"})," Edit Desa")),e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:p},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Edit Nama Desa"),e.createElement("input",{type:"text",className:"form-control",value:r,onChange:a=>b(a.target.value),placeholder:"Edit Nama Desa"})),m.name&&e.createElement("div",{className:"alert alert-danger"},m.name),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Kabupaten"),e.createElement(E,{options:n,value:o,onChange:a=>d(a)})),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Kecamatan"),e.createElement(E,{options:l,value:i,onChange:a=>u(a)})),e.createElement("div",null,e.createElement("button",{type:"submit",className:"btn btn-md btn-success me-2"},e.createElement("i",{className:"fa fa-save"})," Save")))))))))}export{y as default};
