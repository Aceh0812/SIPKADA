import{u as I,r as t,R as e,H as O,d as V}from"./app-2f88eaee.js";import{L as T}from"./Account-8ba589b9.js";import{S as E}from"./sweetalert2.all-92a6b231.js";import"./index-d9835c12.js";function z(){const{errors:c,kabupatens:j,kecamatans:A,desas:L,tpses:Q,calons:m,saksis:l}=I().props,[o,H]=t.useState(l.tps_id),[u,P]=t.useState(l.kabupaten_id),[d,U]=t.useState(l.kecamatan_id),[i,q]=t.useState(l.desa_id),[v,b]=t.useState(l.tps),[N,f]=t.useState(l.kabupaten_name),[h,g]=t.useState(l.kecamatan_name),[_,k]=t.useState(l.desa_name),[p,S]=t.useState(l.jumlah_dpt),[r,y]=t.useState(m.map(a=>({calon_id:a.id,votes:""}))),C=(a,n)=>{const s=[...r];s[a].votes=n,y(s)},w=a=>{a.preventDefault();const n=o?o.value:null,s=u?u.value:null,x=d?d.value:null,K=i?i.value:null,D={tps_id:n,kabupaten_id:s,kecamatan_id:x,desa_id:K,jumlah_dpt:p,calonVotes:r};V.Inertia.post("/account/quickcounts",D,{onSuccess:()=>{E.fire({title:"Success",text:"Quick count data has been saved.",icon:"success",confirmButtonText:"OK"})},onError:()=>{E.fire({title:"Error",text:"There was an error saving the quick count data.",icon:"error",confirmButtonText:"OK"})}})};return e.createElement(e.Fragment,null,e.createElement(O,null,e.createElement("title",null,"Upload C1 - Quickcount")),e.createElement(T,null,e.createElement("div",{className:"page-content"},e.createElement("div",{className:"row mt-3"},e.createElement("div",{className:"card"},e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:w},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Tps"),e.createElement("input",{type:"text",className:"form-control",value:v,onChange:a=>b(a.target.value),readOnly:!0})),c.tps_id&&e.createElement("div",{className:"alert alert-danger"},c.tps_id)),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Jumlah Dpt"),e.createElement("input",{type:"text",className:"form-control",value:p,onChange:a=>S(a.target.value),readOnly:!0})),c.jumlah_dpt&&e.createElement("div",{className:"alert alert-danger"},c.jumlah_dpt))),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Kabupaten"),e.createElement("input",{type:"text",className:"form-control",value:N,onChange:a=>f(a.target.value),readOnly:!0})),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Kecamatan"),e.createElement("input",{type:"text",className:"form-control",value:h,onChange:a=>g(a.target.value),readOnly:!0})),e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Desa /Kelurahan"),e.createElement("input",{type:"text",className:"form-control",value:_,onChange:a=>k(a.target.value),readOnly:!0})),e.createElement("div",{className:"row mt-3"},e.createElement("div",{className:"col-12 col-lg-12 d-flex"},e.createElement("div",{className:"card radius-10 w-100"},e.createElement("div",{className:"card-header"},e.createElement("div",{className:"d-flex align-items-center"},e.createElement("div",null,e.createElement("h6",{className:"mb-0"},"HASIL QUICKCOUNT PILKADA 2024")))),e.createElement("div",{className:"card-body table-responsive"},e.createElement("table",{className:"table table-striped"},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",null,"#"),e.createElement("th",null,"Calon"),e.createElement("th",null,"Perolehan Suara"))),e.createElement("tbody",null,m.map((a,n)=>e.createElement("tr",{key:n},e.createElement("td",null,n+1),e.createElement("td",null,a.name),e.createElement("td",null,e.createElement("input",{type:"text",className:"form-control",placeholder:"30",value:r[n].votes,onChange:s=>C(n,s.target.value)})))))),e.createElement("div",{className:"mt-3 d-grid gap-2"},e.createElement("button",{type:"submit",className:"btn btn-md btn-warning me-2"},e.createElement("i",{className:"fa fa-save"})," Save")))))))))))))}export{z as default};
